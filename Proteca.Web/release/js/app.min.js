var todos;!function(o){"use strict";var t=function(){function o(o,t){this.title=o,this.completed=t}return o}();o.TodoItem=t}(todos||(todos={}));var todos;!function(o){"use strict";function t(o){return{link:function(t,e,i){t.$watch(i.todoFocus,function(t){t&&o(function(){return e[0].focus()},0,!1)})}}}o.todoFocus=t,t.$inject=["$timeout"]}(todos||(todos={}));var todos;!function(o){"use strict";function t(){return{link:function(o,t,e){t.bind("blur",function(){o.$apply(e.todoBlur)}),o.$on("$destroy",function(){t.unbind("blur")})}}}o.todoBlur=t}(todos||(todos={}));var todos;!function(o){"use strict";var t=function(){function o(){this.STORAGE_ID="todos-angularjs-typescript"}return o.prototype.get=function(){return JSON.parse(localStorage.getItem(this.STORAGE_ID)||"[]")},o.prototype.put=function(o){localStorage.setItem(this.STORAGE_ID,JSON.stringify(o))},o}();o.TodoStorage=t}(todos||(todos={}));var todos;!function(o){"use strict";var t=function(){function t(o,t,e,i){var n=this;this.$scope=o,this.$location=t,this.todoStorage=e,this.filterFilter=i,this.todos=o.todos=e.get(),o.newTodo="",o.editedTodo=null,o.vm=this,o.$watch("todos",function(){return n.onTodos()},!0),o.$watch("location.path()",function(o){return n.onPath(o)}),""===t.path()&&t.path("/"),o.location=t}return t.prototype.onPath=function(o){this.$scope.statusFilter="/active"===o?{completed:!1}:"/completed"===o?{completed:!0}:null},t.prototype.onTodos=function(){this.$scope.remainingCount=this.filterFilter(this.todos,{completed:!1}).length,this.$scope.doneCount=this.todos.length-this.$scope.remainingCount,this.$scope.allChecked=!this.$scope.remainingCount,this.todoStorage.put(this.todos)},t.prototype.addTodo=function(){var t=this.$scope.newTodo.trim();t.length&&(this.todos.push(new o.TodoItem(t,!1)),this.$scope.newTodo="")},t.prototype.editTodo=function(o){this.$scope.editedTodo=o},t.prototype.doneEditing=function(o){this.$scope.editedTodo=null,o.title=o.title.trim(),o.title||this.removeTodo(o)},t.prototype.removeTodo=function(o){this.todos.splice(this.todos.indexOf(o),1)},t.prototype.clearDoneTodos=function(){this.$scope.todos=this.todos=this.todos.filter(function(o){return!o.completed})},t.prototype.markAll=function(o){this.todos.forEach(function(t){t.completed=o})},t.$inject=["$scope","$location","todoStorage","filterFilter"],t}();o.TodoCtrl=t}(todos||(todos={}));var todos;!function(o){"use strict";angular.module("todomvc",[]).controller("todoCtrl",o.TodoCtrl).directive("todoBlur",o.todoBlur).directive("todoFocus",o.todoFocus).service("todoStorage",o.TodoStorage)}(todos||(todos={}));